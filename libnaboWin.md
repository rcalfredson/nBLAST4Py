# Building Libnabo on Windows using MinGW
1. Install CMake using an installer from [this page](https://cmake.org/download/) ("Windows win64-x64 Installer" in my case).
2. Install `numpy` using your preferred method, and ensure you know the path where it got installed (e.g., `$PATH_TO_PYTHON/Lib/site-packages/numpy`)
3. Clone the [Libnabo repository from GitHub](https://github.com/ethz-asl/libnabo#download) to your local machine.
4. Create a separate directory for the Libnabo build in a location of your choice; open a command line and change to that directory.
5. In the Libnabo source, open `python/CMakeLists.txt` and modify it as follows:
    - Above line 46 (`find_package(Boost ...)`), add the line `include_directories(${BOOST_INCLUDEDIR} ${PYTHON_INCLUDE_DIRS} ${NUMPY_INCLUDE_DIR})`
    - On the line beginning `find_package(Boost ...)`, remove the `COMPONENTS ${BOOST_PYTHON_COMPONENT}` argument. The reason is I found it did not locate the library files unless they have the exact name `libboost_pythonXx`, whereas the library files produced by Boost.Python carry information about the compiler, threading type, et cetera. Thus, in my opinion to rename the library files just to honor CMake's inflexible search capabilities.
    - On line 61 of the original file (the `target_link_libraries` command in the `else (SHARED_LIBS)` block), manually add the paths to the two Boost.Python DLLs created in the [the previous step](boostPythonMinGW.md)
6. Run the `cmake` command
    - As with other steps, trial and error may be needed on your part. Nonetheless, here is the command I used for a successful build of `Libnabo`: `cmake -G "MinGW Makefiles" -DPYTHON_LIBRARY="C:\Program Files\Python36" -DPYTHON_INCLUDE_DIR="C:\Program Files\Python36\include" -DPYTHON_EXECUTABLE="C:\Program Files\Python36\Python.exe" -DPYTHON_VERSION_MAJOR=3 -DPYTHON_VERSION_MINOR=6 -DEIGEN_INCLUDE_DIR="C:\eigen-3.3.7" -DBOOST_INCLUDEDIR="C:\local\boost_1_72_0" -DBOOST_LIBRARYDIR="C:\local\boost_1_72_0\lib64-msvc-14.2" -DBOOST_ROOT="C:\local\boost_1_72_0\boost" -DNUMPY_INCLUDE_DIR "C:\Program Files\Python36\Lib\site-packages\numpy\core\include" "C:\Users\Tracking\libnabo"`
    - Note: per the edits in step 5, I added the `NUMPY_INCLUDE_DIR` argument because the prior method used in this CMakeLists file to find and include Numpy did not work on my system, and it was easier to override it than to debug it. Make sure to include `core\include` at the end of that path, rather than ending with `numpy`.